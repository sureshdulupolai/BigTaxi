{% extends 'base.html' %}
{% block body %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Review Post Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f8f9fa;
    }
    .review-box {
      max-width: 700px;
      margin: 50px auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .star-rating {
      font-size: 2rem;
      direction: rtl;
      display: inline-flex;
    }
    .star-rating input {
      display: none;
    }
    .star-rating label {
      color: #ccc;
      cursor: pointer;
    }
    .star-rating input:checked ~ label,
    .star-rating label:hover,
    .star-rating label:hover ~ label {
      color: orange;
    }
    .form-control:focus {
      box-shadow: 0 1px 0 #007bff;
      border-color: #007bff;
    }
    .rating-summary-bar {
      height: 15px;
      background: #ccc;
      border-radius: 5px;
    }
    .rating-fill {
      height: 15px;
      background: #007bff;
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <!-- Review Form -->
   {% if showData %}
    <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="review-box">
        <h5 class="text-center mb-3">BigTaxi Review Box</h5>

        <div class="d-flex align-items-center mb-3">
        <div style="width: 45px; height: 45px; overflow: hidden; border-radius: 50%; margin-right: 10px;">
            <img src="/media/{{ image }}" alt="User" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
        <div>
            <input type="hidden" name="uCode" value="{{ userBarCodeAccessis }}" hidden>
            <input type="hidden" name="uCategoryForRating" value="{{ userCategoryis }}" hidden>

            <strong>{{ uName }}</strong><br>
            <small class="text-muted">Posting publicly.</small>
        </div>
        </div>

        <div class="star-rating mb-3">
        <input type="radio" id="star5" name="uStar" value="5" checked><label for="star5">★</label>
        <input type="radio" id="star4" name="uStar" value="4"><label for="star4">★</label>
        <input type="radio" id="star3" name="uStar" value="3"><label for="star3">★</label>
        <input type="radio" id="star2" name="uStar" value="2"><label for="star2">★</label>
        <input type="radio" id="star1" name="uStar" value="1"><label for="star1">★</label>
        </div>

        <textarea class="form-control mb-3" name="uReview" rows="4" placeholder="Share details of your own experience at this place"></textarea>

        <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-light me-2">Cancel</button>
        <button type="submit" class="btn btn-primary">Post</button>
        </div>
    </div>
    </form>
    {% endif %}


  <!-- Rating Summary -->
  <div class="container mb-5 mt-4">
    <div class="row">
      <div class="col-md-6">
        <h1 class="fw-bold">4.9 <small class="fs-5">Out of 5 Stars</small></h1>
        <div class="text-warning fs-4">★★★★★</div>
        <p>Overall rating of <a href="#">8 1st-party reviews</a></p>

        <!-- Rating Bars -->
        <div class="d-flex align-items-center">
          <div class="me-2">5 Stars</div>
          <div class="flex-grow-1 me-2 rating-summary-bar">
            <div class="rating-fill" style="width: 90%;"></div>
          </div>
          <div>7</div>
        </div>
        <div class="d-flex align-items-center">
          <div class="me-2">4 Stars</div>
          <div class="flex-grow-1 me-2 rating-summary-bar">
            <div class="rating-fill" style="width: 10%;"></div>
          </div>
          <div>1</div>
        </div>
        <!-- Optional: 3, 2, 1 Star rows -->
      </div>

      <div class="col-md-6">
        <p>We work hard to be the best at what we do for you. And when hard work pays off, we celebrate! Thank you to everyone that has taken the time to tell us how we did. We appreciate you.</p>
      </div>
    </div>
  </div>

  <!-- User Review Cards -->
  <div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-4">
        
    {% if Rar %}
      <div class="col">
        <div class="card h-100">
            <div class="card-body">
            <div class="d-flex align-items-center mb-2">
                <div style="width: 40px; height: 40px; overflow: hidden; border-radius: 50%; margin-right: 10px;">
                <img src="/media/{{ image }}" alt="User Image" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div>
                <h6 class="card-title mb-0">Dwayne Dean</h6>
                <small class="text-muted">1 month ago</small>
                </div>
            </div>
            <div class="text-warning mb-2">★★★★★</div>
            <p class="card-text">The guys showed up on time, they were about their business. <a href="#" style="text-decoration: none;">Read more</a></p>
            <p class="text-muted">Posted on <strong>BigTaxi</strong></p>
            </div>
        </div>
    </div>
    {% endif %}

    </div>
  </div>

</body>
</html>
{% endblock %}